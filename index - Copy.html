

<html><head><link rel="stylesheet" href="https://unpkg.com/98.css" />

 
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/latest/three.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Picture Generator</title>
  <style>
  


  
    body {
      font-family: 'Pixelated MS Sans Serif', Arial;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-image: linear-gradient(to top, #f9daf3, #f7cdee, #f5bfe8, #f4b2e2, #f2a4dc);
    }
  
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: overlay;
      animation: animate 0.1s infinite;
      z-index: -1;
    }
  
    
  
   
  
  
    
    .window {
      width: 470px;
    }
  
    @media (max-width: 600px) {
      .window {
        width: 385px;
      }
  
      #canvas-container {
        margin-top: 30px;
        max-width: 360px;
        max-height: 360px;
      }
  
      #canvas {
        max-width: 360px;
        max-height: 360px;
      }
    }
  
    .title-bar {
        background: linear-gradient(180deg, #b388ff, #8e24aa 8%, #7b1fa2 40%, #6a1b9a 88%, #6a1b9a 93%, #512da8 95%, #4527a0 96%, #4527a0);

      padding: 3px 5px 3px 3px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      
    }
    .title-bar-text {
      font-weight: bold;
      color: white;
      letter-spacing: 0;
      margin-right: 24px;
      font-size: 18px;
      margin: 0 auto; /* Add this line to center the text horizontally */

    }
    .title-bar-controls {
      display: flex;
    }
    .title-bar-controls button {
      padding: 0;
      display: block;
      min-width: 16px;
      min-height: 14px;
    }
    .window-body {
      margin: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #canvas-container {
      width: 420px;
      height: 420px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }
    #canvas {
      border: 1px solid #ddd;
    }
    .field-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      width: 100%;
    }
    #overlaySelect, #imageUpload {
      flex-grow: 1;
    }
    #downloadBtn {
      margin-top: 10px;
    }
  </style>
  </head>

  <div class="window">
    <div class="title-bar">
      <div class="title-bar-text">Axelotyl yourself!</div>
      <div class="title-bar-controls">

      </div>
    </div>
    <div class="window-body">
      <div id="canvas-container">
        <canvas id="canvas" width="420" height="420"></canvas>
      </div>
      <div class="field-row">
        <label for="overlaySelect">Overlay:</label>
        <select id="overlaySelect">
          <option value="">Choose an overlay</option>
          <option value="0">Classic</option>
          <option value="1">Placeholder</option>
          <option value="2">Placeholder</option>
          <option value="3">Placeholder</option>
          <option value="4">Placeholder</option>
        </select>
      </div>
      <div class="field-row">
        <label for="imageUpload">Upload Profile Picture:</label>
        <input type="file" id="imageUpload" accept="image/png">
      </div>
      <button id="downloadBtn">Download Profile Picture</button>
    </div>
  </div>
  <div style="margin-top: 20px; position: absolute; bottom: 10px;">
    <button onclick="goBack()" class="btn">Go Back</button>
  </div>
  
  <script>
  function goBack() {
    window.history.back();
  }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
  <script>
  const canvas = new fabric.Canvas('canvas', { width: 420, height: 420 });
  const overlaySelect = document.getElementById('overlaySelect');
  const imageUpload = document.getElementById('imageUpload');
  const downloadBtn = document.getElementById('downloadBtn');
  
  const overlays = [
    'overlayaxel.png',
    'overlays/neon-frame.png',
    'overlays/fire-effect.png',
    'overlays/heart-frame.png',
    'overlays/retro-grid.png'
  ];
  
  overlaySelect.addEventListener('change', (e) => {
    const selectedOverlay = e.target.value;
    if (selectedOverlay !== '') {
      setOverlayImage(overlays[selectedOverlay]);
    }
  });
  
  imageUpload.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (event) => {
        fabric.Image.fromURL(event.target.result, (img) => {
          img.scaleToWidth(canvas.width);
          img.scaleToHeight(canvas.height);
          img.set({
            left: canvas.width / 2,
            top: canvas.height / 2,
            originX: 'center',
            originY: 'center'
          });
  
          canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas), {
            crossOrigin: 'anonymous'

          });
        });
      };
      reader.readAsDataURL(file);
    }
  });
  
  downloadBtn.addEventListener('click', () => {
    const canvasElement = canvas.getElement();
    const originalBorder = canvasElement.style.border;
    canvasElement.style.border = 'none';
  
    canvas.discardActiveObject();
    canvas.renderAll();
  
    canvasElement.toBlob((blob) => {
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'profile_picture.png';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
  
      canvasElement.style.border = originalBorder;
      canvas.renderAll();
    });
  });
  
  function setOverlayImage(url) {
    fabric.Image.fromURL(url, (img) => {
      img.scaleToWidth(canvas.width);
      img.scaleToHeight(canvas.height);
      img.set({
        left: canvas.width / 2,
        top: canvas.height / 2,
        originX: 'center',
        originY: 'center'
      });
      canvas.add(img);
      canvas.renderAll();
    }, { crossOrigin: 'anonymous' });
  }
  </script>
 
  </body></html>